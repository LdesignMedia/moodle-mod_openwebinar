YUI.add("moodle-mod_openwebinar-base",function(e,t){M.mod_openwebinar=M.mod_openwebinar||{},M.mod_openwebinar.base={options:{debugjs:!0,duration:0,from:0,timeopen:0,cmid:0,is_ended:!1,show_skype_dialog:!1,skype:""},log:function(e){"use strict";if(!this.options.debugjs)return;try{}catch(t){try{console.log(e)}catch(n){throw n}}},init:function(t){"use strict";this.set_options(t),this.log(this.options),e.on("domready",function(){this.add_countdown(),this.options.show_skype_dialog&&this.options.skype==""&&(this.log("Show skype dialog"),YUI().use("event-base","node","panel","cookie","io",function(e){var t=new e.Panel({contentBox:e.Node.create('<div id="dialog" />'),bodyContent:'<div class="message"><b>Skype bijwerken.</b><br/><br/><small>U skype gebruikersnaam is onbekend. Om ons systeem accuraat te houden vragen wij u dit hieronder te wijzigen.<br/><br/><input name="skype" id="skype" placeholder="Skype username"/></div>',width:410,zIndex:6,centered:!0,modal:!0,render:".example",visible:!1,buttons:{footer:[{name:"proceed",label:"Opslaan",action:function(){console.log("save");var t=e.one("#skype").get("value");YUI().use("io-base",function(e){e.io("/blocks/dshop/api/update_profile",{method:"GET",data:{skype:t},on:{success:function(e,t){log("success"),log(t)},failure:function(e,t){log("failure"),log(t)}},headers:{"Content-Type":"application/json"}})}),this.hide()}}]}});t.show()}))},this)},add_countdown:function(){"use strict";if(typeof countdown=="undefined")return;var e=this,t=new Date(this.options.timeopen*1e3),n=new Date(e.options.from*1e3);countdown.setLabels(M.util.get_string("js:countdown_line1","openwebinar",{}),M.util.get_string("js:countdown_line2","openwebinar",{}),M.util.get_string("js:countdown_line3","openwebinar",{}),", ","",function(e){return e.toString()});var r=document.getElementById("pageTimer"),i=setInterval(function(){n.setSeconds(n.getSeconds()+1);var s=countdown(t,n,countdown.HOURS|countdown.MINUTES|countdown.SECONDS,6,0);e.log(s.value),s.value>0?(e.log("clearInterval"),clearInterval(i),window.location=M.cfg.wwwroot+"/mod/openwebinar/view.php?id="+e.options.cmid):r.innerHTML=s.toHTML("strong")},1e3)},set_options:function(e){"use strict";var t,n;for(t in this.options)this.options.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(n=typeof this.options[t],n==="boolean"?this.options[t]=Boolean(e[t]):n==="number"?this.options[t]=Number(e[t]):n==="string"&&(this.options[t]=String(e[t])))}}},"@VERSION@",{requires:["base","node"]});
